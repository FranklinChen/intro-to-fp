<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
<title></title>
<meta name="author" content="Josh Suereth" />
<meta name="description" content="">

<link href="css/fonts/roboto.css" rel="stylesheet" />
<link href="css/hekyll.css" rel="stylesheet" />
<link href="css/syntax.css" rel="stylesheet" />
<link href="css/custom.css" rel="stylesheet" />

</head>
<body>
  <div id="impress" class="impress-not-supported">
    <div class="step">
      <h1 id='traversing'>Traversing</h1>
<div class='highlight'><pre><code class='scala'><span class='k'>def</span> getStatistics(user<span class='kt'>: User</span>)<span class='kt'>: Future[Statistics]</span> = {
  <span class='k'>val</span> projects<span class='kt'>: Future[Seq[Project]]</span> = 
    api.projects(user)
  <span class='k'>val</span> requests<span class='kt'>: Future[Seq[Seq[PullRequests]]]</span> = 
    projects <em>flatMap</em> { projects =&gt; Future.<em>traverse</em>(projects)(api.pullrequests).flatten }
  <span class='k'>val</span> watchers<span class='kt'>: Future[Seq[Seq[User]]]</span> = 
    projects <em>flatMap</em> { projects =&gt; Future.<em>traverse</em>(projects)(api.watchers) }    
  Statistics(user, reqs.<em>await.flatten</em>, watchers.<em>await.flatten</em>)
}
</code></pre></div>
    </div>
  </div>
</body>
</html>

